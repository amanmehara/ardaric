{{!< default}}

{{#post}}

<header class="post-header {{#if cover_image}} has-cover {{/if}}">
  <div class="inner">
    <h1 class="post-title">{{{title}}}</h1>
    {{#if cover_image}}<div class="post-cover cover" style="background-image: url('{{img_url cover_image}}');"></div>
    {{/if}}
  </div>
</header>

<main class="content" role="main">
  <article class="{{post_class}}">
    <div class="inner">

      <section class="post-content">
        {{content}}
      </section>

    </div>
  </article>
</main>

{{/post}}

{{!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs --}}
{{#contentFor "scripts"}}
<script>
  $(document).ready(function () {
    var post = $('.post-content');
    // Add line numbers in code blocks.
    function codestyling() {
      $('pre code').each(function (i, e) {
        var code = $(this);
        var lines = code.html().split(/\n(?!$)/g).length;
        var numbers = [];
        lines++;
        for (i = 1; i < lines; i++) {
          numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
        }
        code.parent().append('<div class="lines">' + numbers + '</div>');
      });
    }
    codestyling();
  });
</script>
{{/contentFor}}